<!doctype html>
<html lang="en">

<style type='text/css'>
    * {
        padding: 0;
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
        background-image: url('./name.jpg.jpg');
        background-size: cover;
        font-family: sans-serif;
        margin-top: 40px;
        height: 100vh;
        padding: 0;
        margin: 0;
    }

    table {
        border: 1px;
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 86%;
        margin: auto;
    }

    td,
    th {
        border: 1px solid black !important;
        padding: 5px;
    }

    tr:nth-child(even) {
        background-color: #dddddd;
    }

    /* Chatbot styles */
    .chat-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: #007bff;
        color: white;
        border: none;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    .chat-window {
        display: none;
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 300px;
        height: 400px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    .chat-header {
        background: #007bff;
        color: white;
        padding: 10px;
        border-radius: 10px 10px 0 0;
    }

    .chat-body {
        height: 300px;
        padding: 10px;
        overflow-y: auto;
    }

    .chat-input {
        position: absolute;
        bottom: 0;
        width: 100%;
        display: flex;
        padding: 10px;
        box-sizing: border-box;
    }

    .chat-input input {
        flex: 1;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        margin-right: 5px;
    }

    .chat-input button {
        padding: 8px 15px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
</style>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>LifeCare</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Health-Point</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <h1 class="text-center" style="color:rgb(29, 24, 24);">LifeCare Health System</h1>
    <div class="row text-center" style="margin-top: 60px;">
        <div class="col">
            <h2 style="color:rgb(27, 21, 21);">For registered users</h2>
            <a href="/loginpage1"><button style="width: 232px;margin-top: 20px;font-size: 20px;" type='submit'
                    class='btn btn-light'>Patient Login</button><br></a>
            <a href="/loginpage2"><button style="width: 232px;margin-top: 20px;font-size: 20px;" type='submit'
                    class='btn btn-light'>Doctor Login</button><br></a>
            <a href="/loginpage3"><button style="width: 232px;margin-top: 20px;font-size: 20px;" type='submit'
                    class='btn btn-light'>Admin Login</button><br></a>
        </div>
        <div class="col">
            <h2 style="color:rgb(18, 16, 16);">For new users</h2>
            <a href="/patreg"><button style="width: 232px;margin-top: 20px;font-size: 20px;" type='submit'
                    class='btn btn-light'>Patient Registration</button></a><br>
            <a href="/docreg"><button style="width: 232px;margin-top: 20px;font-size: 20px;" type='submit'
                    class='btn btn-light'>Doctor Registration</button></a>
        </div>
    </div>

    <!-- Chatbot Button -->
    <button class="chat-button" onclick="toggleChat()">
        <i class="material-icons">chat</i>
    </button>

    <!-- Chat Window -->
    <div id="chatWindow" class="chat-window">
        <div class="chat-header">
            LifeCare Chat Support
        </div>
        <div id="chatBody" class="chat-body">
        </div>
        <div class="chat-input">
            <input type="text" id="messageInput" placeholder="Type your message...">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.style.display = chatWindow.style.display === 'none' ? 'block' : 'none';
        }

        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value;
            if (message.trim() === '') return;

            // Add user message to chat
            addMessage('You: ' + message, 'user');

            // Send message to server
            fetch('/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ message: message })
            })
            .then(response => response.json())
            .then(data => {
                addMessage('Bot: ' + data.response, 'bot');
            });

            messageInput.value = '';
        }

        function addMessage(message, sender) {
            const chatBody = document.getElementById('chatBody');
            const messageElement = document.createElement('div');
            messageElement.style.marginBottom = '10px';
            messageElement.style.padding = '5px';
            messageElement.style.borderRadius = '5px';
            messageElement.style.backgroundColor = sender === 'user' ? '#e3f2fd' : '#f5f5f5';
            messageElement.textContent = message;
            chatBody.appendChild(messageElement);
            chatBody.scrollTop = chatBody.scrollHeight;
        }
    </script>
</body>

</html>